---
import MainLayout from "../layouts/MainLayout.astro";
import SignInForm from "../components/auth/SignInForm";
import { Alert, AlertDescription } from "@/components/ui/alert";

const { searchParams } = new URL(Astro.request.url);
const verification = searchParams.get('verification');

let verificationMessage = '';
if (verification === 'pending') {
  verificationMessage = 'Link aktywacyjny został wysłany na podany adres email. Sprawdź swoją skrzynkę i potwierdź rejestrację.';
} else if (verification === 'success') {
  verificationMessage = 'Email został potwierdzony. Możesz się teraz zalogować.';
}
---

<MainLayout title="Logowanie">
  <div class="container mx-auto px-4 py-8">
    <div class="max-w-md mx-auto">
      <h1 class="text-2xl font-bold mb-6 text-center">Logowanie</h1>
      
      {verification && (
        <Alert className="mb-6">
          <AlertDescription>
            {verificationMessage}
          </AlertDescription>
        </Alert>
      )}

      <SignInForm client:load />
      <div class="mt-4 text-center">
        <a href="/signup" class="text-blue-600 hover:underline">Nie masz jeszcze konta? Zarejestruj się</a>
      </div>
    </div>
  </div>
</MainLayout>
